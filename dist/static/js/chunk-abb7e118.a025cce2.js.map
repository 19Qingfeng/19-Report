{"version":3,"sources":["webpack:///./src/views/permission/directive.vue?def2","webpack:///./src/views/permission/components/SwitchRoles.vue?4e92","webpack:///src/views/permission/components/SwitchRoles.vue","webpack:///./src/views/permission/components/SwitchRoles.vue?c276","webpack:///./src/views/permission/components/SwitchRoles.vue","webpack:///./src/views/permission/directive.vue?9297","webpack:///./src/directive/permission/permission.js","webpack:///./src/directive/permission/index.js","webpack:///./src/utils/permission.js","webpack:///src/views/permission/directive.vue","webpack:///./src/views/permission/directive.vue?ca29","webpack:///./src/views/permission/directive.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","_v","_s","roles","model","value","callback","$$v","switchRoles","expression","attrs","staticRenderFns","computed","$store","getters","get","set","dispatch","val","then","component","staticClass","on","handleRolesChange","key","directives","name","rawName","_m","checkPermission","_e","el","binding","store","Array","Error","length","permissionRoles","hasPermission","some","role","includes","parentNode","removeChild","inserted","update","install","Vue","directive","permission","window","use","console","error","components","data","methods"],"mappings":"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","file":"static/js/chunk-abb7e118.a025cce2.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./directive.vue?vue&type=style&index=0&id=71b6f90e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./directive.vue?vue&type=style&index=0&id=71b6f90e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_vm._v(\" Your roles: \"+_vm._s(_vm.roles)+\" \")]),_vm._v(\" Switch roles: \"),_c('el-radio-group',{model:{value:(_vm.switchRoles),callback:function ($$v) {_vm.switchRoles=$$v},expression:\"switchRoles\"}},[_c('el-radio-button',{attrs:{\"label\":\"editor\"}}),_c('el-radio-button',{attrs:{\"label\":\"admin\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div style=\"margin-bottom:15px;\">\r\n      Your roles: {{ roles }}\r\n    </div>\r\n    Switch roles:\r\n    <el-radio-group v-model=\"switchRoles\">\r\n      <el-radio-button label=\"editor\" />\r\n      <el-radio-button label=\"admin\" />\r\n    </el-radio-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  computed: {\r\n    roles() {\r\n      return this.$store.getters.roles\r\n    },\r\n    switchRoles: {\r\n      get() {\r\n        return this.roles[0]\r\n      },\r\n      set(val) {\r\n        this.$store.dispatch('user/changeRoles', val).then(() => {\r\n          this.$emit('change')\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchRoles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchRoles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SwitchRoles.vue?vue&type=template&id=aaf6d362&\"\nimport script from \"./SwitchRoles.vue?vue&type=script&lang=js&\"\nexport * from \"./SwitchRoles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('switch-roles',{on:{\"change\":_vm.handleRolesChange}}),_c('div',{key:_vm.key,staticStyle:{\"margin-top\":\"30px\"}},[_c('div',[_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['admin']),expression:\"['admin']\"}],staticClass:\"permission-alert\"},[_vm._v(\" Only \"),_c('el-tag',{staticClass:\"permission-tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"admin\")]),_vm._v(\" can see this \")],1),_c('el-tag',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['admin']),expression:\"['admin']\"}],staticClass:\"permission-sourceCode\",attrs:{\"type\":\"info\"}},[_vm._v(\" v-permission=\\\"['admin']\\\" \")])],1),_c('div',[_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['editor']),expression:\"['editor']\"}],staticClass:\"permission-alert\"},[_vm._v(\" Only \"),_c('el-tag',{staticClass:\"permission-tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"editor\")]),_vm._v(\" can see this \")],1),_c('el-tag',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['editor']),expression:\"['editor']\"}],staticClass:\"permission-sourceCode\",attrs:{\"type\":\"info\"}},[_vm._v(\" v-permission=\\\"['editor']\\\" \")])],1),_c('div',[_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['admin','editor']),expression:\"['admin','editor']\"}],staticClass:\"permission-alert\"},[_vm._v(\" Both \"),_c('el-tag',{staticClass:\"permission-tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"admin\")]),_vm._v(\" and \"),_c('el-tag',{staticClass:\"permission-tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"editor\")]),_vm._v(\" can see this \")],1),_c('el-tag',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['admin','editor']),expression:\"['admin','editor']\"}],staticClass:\"permission-sourceCode\",attrs:{\"type\":\"info\"}},[_vm._v(\" v-permission=\\\"['admin','editor']\\\" \")])],1)]),_c('div',{key:'checkPermission'+_vm.key,staticStyle:{\"margin-top\":\"60px\"}},[_vm._m(0),_c('el-tabs',{staticStyle:{\"width\":\"550px\"},attrs:{\"type\":\"border-card\"}},[(_vm.checkPermission(['admin']))?_c('el-tab-pane',{attrs:{\"label\":\"Admin\"}},[_vm._v(\" Admin can see this \"),_c('el-tag',{staticClass:\"permission-sourceCode\",attrs:{\"type\":\"info\"}},[_vm._v(\" v-if=\\\"checkPermission(['admin'])\\\" \")])],1):_vm._e(),(_vm.checkPermission(['editor']))?_c('el-tab-pane',{attrs:{\"label\":\"Editor\"}},[_vm._v(\" Editor can see this \"),_c('el-tag',{staticClass:\"permission-sourceCode\",attrs:{\"type\":\"info\"}},[_vm._v(\" v-if=\\\"checkPermission(['editor'])\\\" \")])],1):_vm._e(),(_vm.checkPermission(['admin','editor']))?_c('el-tab-pane',{attrs:{\"label\":\"Admin-OR-Editor\"}},[_vm._v(\" Both admin or editor can see this \"),_c('el-tag',{staticClass:\"permission-sourceCode\",attrs:{\"type\":\"info\"}},[_vm._v(\" v-if=\\\"checkPermission(['admin','editor'])\\\" \")])],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',[_vm._v(\" In some cases, using v-permission will have no effect. For example: Element-UI's Tab component or el-table-column and other scenes that dynamically render dom. You can only do this with v-if. \"),_c('br'),_vm._v(\" e.g. \")])}]\n\nexport { render, staticRenderFns }","import store from '@/store'\r\n\r\nfunction checkPermission(el, binding) {\r\n  const { value } = binding\r\n  const roles = store.getters && store.getters.roles\r\n\r\n  if (value && value instanceof Array) {\r\n    if (value.length > 0) {\r\n      const permissionRoles = value\r\n\r\n      const hasPermission = roles.some(role => {\r\n        return permissionRoles.includes(role)\r\n      })\r\n\r\n      if (!hasPermission) {\r\n        el.parentNode && el.parentNode.removeChild(el)\r\n      }\r\n    }\r\n  } else {\r\n    throw new Error(`need roles! Like v-permission=\"['admin','editor']\"`)\r\n  }\r\n}\r\n\r\nexport default {\r\n  inserted(el, binding) {\r\n    checkPermission(el, binding)\r\n  },\r\n  update(el, binding) {\r\n    checkPermission(el, binding)\r\n  }\r\n}\r\n","import permission from './permission'\r\n\r\nconst install = function(Vue) {\r\n  Vue.directive('permission', permission)\r\n}\r\n\r\nif (window.Vue) {\r\n  window['permission'] = permission\r\n  Vue.use(install); // eslint-disable-line\r\n}\r\n\r\npermission.install = install\r\nexport default permission\r\n","import store from '@/store'\r\n\r\n/**\r\n * @param {Array} value\r\n * @returns {Boolean}\r\n * @example see @/views/permission/directive.vue\r\n */\r\nexport default function checkPermission(value) {\r\n  if (value && value instanceof Array && value.length > 0) {\r\n    const roles = store.getters && store.getters.roles\r\n    const permissionRoles = value\r\n\r\n    const hasPermission = roles.some(role => {\r\n      return permissionRoles.includes(role)\r\n    })\r\n\r\n    if (!hasPermission) {\r\n      return false\r\n    }\r\n    return true\r\n  } else {\r\n    console.error(`need roles! Like v-permission=\"['admin','editor']\"`)\r\n    return false\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"app-container\">\r\n    <switch-roles @change=\"handleRolesChange\" />\r\n    <div :key=\"key\" style=\"margin-top:30px;\">\r\n      <div>\r\n        <span v-permission=\"['admin']\" class=\"permission-alert\">\r\n          Only\r\n          <el-tag class=\"permission-tag\" size=\"small\">admin</el-tag> can see this\r\n        </span>\r\n        <el-tag v-permission=\"['admin']\" class=\"permission-sourceCode\" type=\"info\">\r\n          v-permission=\"['admin']\"\r\n        </el-tag>\r\n      </div>\r\n\r\n      <div>\r\n        <span v-permission=\"['editor']\" class=\"permission-alert\">\r\n          Only\r\n          <el-tag class=\"permission-tag\" size=\"small\">editor</el-tag> can see this\r\n        </span>\r\n        <el-tag v-permission=\"['editor']\" class=\"permission-sourceCode\" type=\"info\">\r\n          v-permission=\"['editor']\"\r\n        </el-tag>\r\n      </div>\r\n\r\n      <div>\r\n        <span v-permission=\"['admin','editor']\" class=\"permission-alert\">\r\n          Both\r\n          <el-tag class=\"permission-tag\" size=\"small\">admin</el-tag> and\r\n          <el-tag class=\"permission-tag\" size=\"small\">editor</el-tag> can see this\r\n        </span>\r\n        <el-tag v-permission=\"['admin','editor']\" class=\"permission-sourceCode\" type=\"info\">\r\n          v-permission=\"['admin','editor']\"\r\n        </el-tag>\r\n      </div>\r\n    </div>\r\n\r\n    <div :key=\"'checkPermission'+key\" style=\"margin-top:60px;\">\r\n      <aside>\r\n        In some cases, using v-permission will have no effect. For example: Element-UI's Tab component or el-table-column and other scenes that dynamically render dom. You can only do this with v-if.\r\n        <br> e.g.\r\n      </aside>\r\n\r\n      <el-tabs type=\"border-card\" style=\"width:550px;\">\r\n        <el-tab-pane v-if=\"checkPermission(['admin'])\" label=\"Admin\">\r\n          Admin can see this\r\n          <el-tag class=\"permission-sourceCode\" type=\"info\">\r\n            v-if=\"checkPermission(['admin'])\"\r\n          </el-tag>\r\n        </el-tab-pane>\r\n\r\n        <el-tab-pane v-if=\"checkPermission(['editor'])\" label=\"Editor\">\r\n          Editor can see this\r\n          <el-tag class=\"permission-sourceCode\" type=\"info\">\r\n            v-if=\"checkPermission(['editor'])\"\r\n          </el-tag>\r\n        </el-tab-pane>\r\n\r\n        <el-tab-pane v-if=\"checkPermission(['admin','editor'])\" label=\"Admin-OR-Editor\">\r\n          Both admin or editor can see this\r\n          <el-tag class=\"permission-sourceCode\" type=\"info\">\r\n            v-if=\"checkPermission(['admin','editor'])\"\r\n          </el-tag>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport permission from '@/directive/permission/index.js' // 权限判断指令\r\nimport checkPermission from '@/utils/permission' // 权限判断函数\r\nimport SwitchRoles from './components/SwitchRoles'\r\n\r\nexport default {\r\n  name: 'DirectivePermission',\r\n  components: { SwitchRoles },\r\n  directives: { permission },\r\n  data() {\r\n    return {\r\n      key: 1 // 为了能每次切换权限的时候重新初始化指令\r\n    }\r\n  },\r\n  methods: {\r\n    checkPermission,\r\n    handleRolesChange() {\r\n      this.key++\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.app-container {\r\n  ::v-deep .permission-alert {\r\n    width: 320px;\r\n    margin-top: 15px;\r\n    background-color: #f0f9eb;\r\n    color: #67c23a;\r\n    padding: 8px 16px;\r\n    border-radius: 4px;\r\n    display: inline-block;\r\n  }\r\n  ::v-deep .permission-sourceCode {\r\n    margin-left: 15px;\r\n  }\r\n  ::v-deep .permission-tag {\r\n    background-color: #ecf5ff;\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./directive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./directive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./directive.vue?vue&type=template&id=71b6f90e&scoped=true&\"\nimport script from \"./directive.vue?vue&type=script&lang=js&\"\nexport * from \"./directive.vue?vue&type=script&lang=js&\"\nimport style0 from \"./directive.vue?vue&type=style&index=0&id=71b6f90e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71b6f90e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}